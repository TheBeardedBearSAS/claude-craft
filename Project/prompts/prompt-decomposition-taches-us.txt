# PROMPT CLAUDE CODE - D√âCOMPOSITION DES USER STORIES EN T√ÇCHES

## CONTEXTE
Tu es un Tech Lead et Scrum Master exp√©riment√©. Tu dois d√©composer les User Stories existantes en t√¢ches techniques d√©taill√©es pour permettre √† l'√©quipe de d√©veloppement de travailler efficacement.

Cette √©tape correspond au **Sprint Planning Part 2 - "Le Comment"** de Scrum.

## STACK TECHNIQUE DU PROJET
R√©f√©rence : `./docs/ARCHITECTURE_TECHNIQUE_JOINA.md`

| Couche | Technologie | T√¢ches typiques |
|--------|-------------|-----------------|
| üåê Web | Symfony UX + Turbo | Contr√¥leur, Template Twig, Stimulus, Live Component |
| üì± Mobile | Flutter | Widget, Screen, Provider/Bloc, Repository |
| ‚öôÔ∏è API | API Platform | Resource, DTO, Processor, Voter |
| ü§ñ MCP | symfony/mcp-bundle | Tool, Resource MCP |
| üóÑÔ∏è DB | PostgreSQL + Doctrine | Entity, Migration, Repository, Fixtures |
| üß™ Tests | PHPUnit + Flutter Test | Unit, Integration, Functional, E2E |
| üê≥ Infra | Docker | Config, CI/CD |

## MISSION

### √âTAPE 1 : Analyser les User Stories du Sprint
Lis les fichiers du sprint √† d√©composer :
```
project-management/sprints/sprint-XXX-[nom]/
‚îú‚îÄ‚îÄ sprint-goal.md
‚îú‚îÄ‚îÄ sprint-dependencies.md
‚îî‚îÄ‚îÄ [Liens vers les US]
```

Et les User Stories associ√©es :
```
project-management/backlog/user-stories/US-XXX-*.md
```

### √âTAPE 2 : Cr√©er la structure des t√¢ches
Pour chaque Sprint, cr√©e un r√©pertoire `tasks/` :
```
project-management/sprints/sprint-XXX-[nom]/
‚îú‚îÄ‚îÄ sprint-goal.md
‚îú‚îÄ‚îÄ sprint-dependencies.md
‚îú‚îÄ‚îÄ tasks/
‚îÇ   ‚îú‚îÄ‚îÄ README.md                    # Vue d'ensemble des t√¢ches
‚îÇ   ‚îú‚îÄ‚îÄ US-XXX-tasks.md              # T√¢ches de la US-XXX
‚îÇ   ‚îú‚îÄ‚îÄ US-YYY-tasks.md              # T√¢ches de la US-YYY
‚îÇ   ‚îî‚îÄ‚îÄ technical-tasks.md           # T√¢ches techniques transverses
‚îî‚îÄ‚îÄ task-board.md                    # Tableau Kanban du sprint
```

### √âTAPE 3 : R√®gles de d√©composition des t√¢ches

#### Caract√©ristiques d'une bonne t√¢che (SMART)
| Crit√®re | Description | Exemple |
|---------|-------------|---------|
| **S**p√©cifique | Action claire et pr√©cise | "Cr√©er l'entit√© User avec Doctrine" |
| **M**esurable | On sait quand c'est termin√© | "Migration ex√©cut√©e sans erreur" |
| **A**ttribuable | Un seul responsable | "Assign√© √† [Dev Backend]" |
| **R**√©aliste | Faisable dans le temps imparti | "4h estim√©es" |
| **T**emporelle | Dur√©e estim√©e en heures | "Max 8h (1 jour)" |

#### R√®gles de taille
- **Minimum** : 30 minutes (sinon trop granulaire)
- **Maximum** : 8 heures (1 jour de travail)
- **Id√©al** : 2-4 heures
- Si une t√¢che > 8h ‚Üí la d√©couper en sous-t√¢ches

#### Types de t√¢ches
| Type | Pr√©fixe | Description |
|------|---------|-------------|
| Backend | `[BE]` | Symfony, API Platform, Doctrine |
| Frontend Web | `[FE-WEB]` | Twig, Symfony UX, Turbo, Stimulus |
| Frontend Mobile | `[FE-MOB]` | Flutter, Dart |
| Base de donn√©es | `[DB]` | Migrations, Seeds, Indexes |
| Tests | `[TEST]` | Unit, Integration, E2E |
| Documentation | `[DOC]` | PHPDoc, README, API docs |
| DevOps | `[OPS]` | Docker, CI/CD, Config |
| Review | `[REV]` | Code review, QA |

### √âTAPE 4 : Template de d√©composition par US

Pour chaque User Story, cr√©e un fichier `US-XXX-tasks.md` :

```markdown
# T√¢ches - US-XXX : [Titre de la US]

## Informations US
- **Epic** : EPIC-XXX
- **Persona** : P-XXX - [Pr√©nom]
- **Story Points** : [X]
- **Sprint** : sprint-XXX-[nom]

## R√©sum√© de la US
**En tant que** [persona]
**Je veux** [action]
**Afin de** [b√©n√©fice]

## D√©composition en t√¢ches

### Vue d'ensemble
| ID | Type | T√¢che | Estimation | D√©pend de | Assign√© | Statut |
|----|------|-------|------------|-----------|---------|--------|
| T-XXX-01 | [BE] | [Description] | 4h | - | TBD | üî≤ |
| T-XXX-02 | [DB] | [Description] | 2h | T-XXX-01 | TBD | üî≤ |
| T-XXX-03 | [FE-WEB] | [Description] | 3h | T-XXX-01 | TBD | üî≤ |
| T-XXX-04 | [FE-MOB] | [Description] | 3h | T-XXX-01 | TBD | üî≤ |
| T-XXX-05 | [TEST] | [Description] | 2h | T-XXX-03, T-XXX-04 | TBD | üî≤ |

**Total estim√©** : [X]h
**Ratio estimation/points** : [X]h par point

---

### Couche Base de donn√©es [DB]

#### T-XXX-01 : Cr√©er l'entit√© [Nom] avec Doctrine
- **Type** : [DB]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : -
- **Statut** : üî≤ √Ä faire

**Description** :
[Description d√©taill√©e de ce qui doit √™tre fait]

**Fichiers √† cr√©er/modifier** :
- `src/Entity/[Nom].php`
- `src/Repository/[Nom]Repository.php`

**Crit√®res de validation** :
- [ ] Entit√© cr√©√©e avec tous les champs
- [ ] Annotations/Attributs Doctrine corrects
- [ ] Relations configur√©es
- [ ] Repository avec m√©thodes custom si n√©cessaire

**Commandes √† ex√©cuter** :
```bash
php bin/console make:entity [Nom]
php bin/console doctrine:migrations:diff
php bin/console doctrine:migrations:migrate
```

---

#### T-XXX-02 : Cr√©er la migration pour [Nom]
- **Type** : [DB]
- **Estimation** : 1h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-01
- **Statut** : üî≤ √Ä faire

**Description** :
G√©n√©rer et valider la migration Doctrine pour l'entit√© [Nom].

**Fichiers √† cr√©er/modifier** :
- `migrations/VersionXXXXXXXXXXXX.php`

**Crit√®res de validation** :
- [ ] Migration g√©n√©r√©e
- [ ] Migration test√©e en local (up/down)
- [ ] Pas de perte de donn√©es
- [ ] Index cr√©√©s si n√©cessaire

---

### Couche API [BE]

#### T-XXX-03 : Cr√©er la ressource API Platform pour [Nom]
- **Type** : [BE]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-01
- **Statut** : üî≤ √Ä faire

**Description** :
Configurer la ressource API Platform avec les op√©rations CRUD.

**Fichiers √† cr√©er/modifier** :
- `src/Entity/[Nom].php` (attributs ApiResource)
- `src/Dto/[Nom]Input.php` (si DTO)
- `src/Dto/[Nom]Output.php` (si DTO)
- `src/State/[Nom]Processor.php` (si logique custom)

**Configuration API Platform** :
```php
#[ApiResource(
    operations: [
        new GetCollection(),
        new Get(),
        new Post(security: "is_granted('ROLE_USER')"),
        new Put(security: "is_granted('ROLE_USER') and object.owner == user"),
        new Delete(security: "is_granted('ROLE_ADMIN')"),
    ],
    normalizationContext: ['groups' => ['[nom]:read']],
    denormalizationContext: ['groups' => ['[nom]:write']],
)]
```

**Crit√®res de validation** :
- [ ] Endpoints REST fonctionnels
- [ ] Serialization groups configur√©s
- [ ] Validation constraints appliqu√©es
- [ ] Security/Voters configur√©s
- [ ] Documentation OpenAPI g√©n√©r√©e

---

#### T-XXX-04 : Impl√©menter la logique m√©tier [Nom]Service
- **Type** : [BE]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-03
- **Statut** : üî≤ √Ä faire

**Description** :
Cr√©er le service m√©tier avec la logique applicative.

**Fichiers √† cr√©er/modifier** :
- `src/Service/[Nom]Service.php`
- `src/Message/[Nom]Command.php` (si CQRS)
- `src/MessageHandler/[Nom]Handler.php` (si CQRS)

**Crit√®res de validation** :
- [ ] Service cr√©√© et inject√©
- [ ] Logique m√©tier impl√©ment√©e
- [ ] Exceptions m√©tier d√©finies
- [ ] Logs ajout√©s

---

### Couche Frontend Web [FE-WEB]

#### T-XXX-05 : Cr√©er le contr√¥leur Symfony pour [Nom]
- **Type** : [FE-WEB]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-03
- **Statut** : üî≤ √Ä faire

**Description** :
Cr√©er le contr√¥leur Symfony avec les routes et actions.

**Fichiers √† cr√©er/modifier** :
- `src/Controller/[Nom]Controller.php`

**Routes √† impl√©menter** :
| Route | M√©thode | Action | Template |
|-------|---------|--------|----------|
| `/[nom]` | GET | index | `[nom]/index.html.twig` |
| `/[nom]/{id}` | GET | show | `[nom]/show.html.twig` |
| `/[nom]/new` | GET/POST | new | `[nom]/new.html.twig` |
| `/[nom]/{id}/edit` | GET/POST | edit | `[nom]/edit.html.twig` |

**Crit√®res de validation** :
- [ ] Routes fonctionnelles
- [ ] Contr√¥leur test√©
- [ ] S√©curit√© (IsGranted) configur√©e
- [ ] Flash messages impl√©ment√©s

---

#### T-XXX-06 : Cr√©er les templates Twig pour [Nom]
- **Type** : [FE-WEB]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-05
- **Statut** : üî≤ √Ä faire

**Description** :
Cr√©er les templates Twig avec Symfony UX et Turbo.

**Fichiers √† cr√©er/modifier** :
- `templates/[nom]/index.html.twig`
- `templates/[nom]/show.html.twig`
- `templates/[nom]/new.html.twig`
- `templates/[nom]/edit.html.twig`
- `templates/[nom]/_form.html.twig`

**Composants Symfony UX √† utiliser** :
- [ ] Turbo Frames pour navigation partielle
- [ ] Turbo Streams pour mises √† jour temps r√©el
- [ ] Live Components si formulaires dynamiques

**Crit√®res de validation** :
- [ ] Templates cr√©√©s et fonctionnels
- [ ] Responsive design (mobile-first)
- [ ] Accessibilit√© WCAG 2.1 AA
- [ ] Turbo Frames/Streams impl√©ment√©s
- [ ] Messages flash affich√©s

---

#### T-XXX-07 : Cr√©er le contr√¥leur Stimulus pour [Nom]
- **Type** : [FE-WEB]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-06
- **Statut** : üî≤ √Ä faire

**Description** :
Cr√©er les contr√¥leurs Stimulus pour les interactions JavaScript.

**Fichiers √† cr√©er/modifier** :
- `assets/controllers/[nom]_controller.js`

**Actions Stimulus √† impl√©menter** :
- [ ] [action1] : [description]
- [ ] [action2] : [description]

**Crit√®res de validation** :
- [ ] Contr√¥leur Stimulus fonctionnel
- [ ] Pas de JavaScript inline
- [ ] √âv√©nements bien g√©r√©s
- [ ] UX fluide sans rechargement

---

### Couche Frontend Mobile [FE-MOB]

#### T-XXX-08 : Cr√©er le mod√®le Dart pour [Nom]
- **Type** : [FE-MOB]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-03
- **Statut** : üî≤ √Ä faire

**Description** :
Cr√©er la classe mod√®le Dart avec s√©rialisation JSON.

**Fichiers √† cr√©er/modifier** :
- `lib/models/[nom].dart`
- `lib/models/[nom].g.dart` (g√©n√©r√©)

**Code type** :
```dart
@JsonSerializable()
class [Nom] {
  final int id;
  final String [field1];
  final DateTime [field2];
  
  [Nom]({required this.id, required this.[field1], required this.[field2]});
  
  factory [Nom].fromJson(Map<String, dynamic> json) => _$[Nom]FromJson(json);
  Map<String, dynamic> toJson() => _$[Nom]ToJson(this);
}
```

**Crit√®res de validation** :
- [ ] Mod√®le cr√©√© avec tous les champs
- [ ] S√©rialisation JSON fonctionnelle
- [ ] Types nullables correctement g√©r√©s
- [ ] √âquivalence avec l'API (m√™me structure)

---

#### T-XXX-09 : Cr√©er le repository Flutter pour [Nom]
- **Type** : [FE-MOB]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-08
- **Statut** : üî≤ √Ä faire

**Description** :
Cr√©er le repository pour les appels API.

**Fichiers √† cr√©er/modifier** :
- `lib/repositories/[nom]_repository.dart`

**M√©thodes √† impl√©menter** :
```dart
abstract class [Nom]Repository {
  Future<List<[Nom]>> getAll();
  Future<[Nom]> getById(int id);
  Future<[Nom]> create([Nom] item);
  Future<[Nom]> update([Nom] item);
  Future<void> delete(int id);
}
```

**Crit√®res de validation** :
- [ ] Repository abstrait + impl√©mentation
- [ ] Gestion des erreurs HTTP
- [ ] Gestion du cache si n√©cessaire
- [ ] Headers d'authentification

---

#### T-XXX-10 : Cr√©er le Provider/Bloc pour [Nom]
- **Type** : [FE-MOB]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-09
- **Statut** : üî≤ √Ä faire

**Description** :
Cr√©er le state management (Provider/Riverpod/Bloc).

**Fichiers √† cr√©er/modifier** :
- `lib/providers/[nom]_provider.dart`
- ou `lib/blocs/[nom]_bloc.dart`
- ou `lib/blocs/[nom]_state.dart`
- ou `lib/blocs/[nom]_event.dart`

**√âtats √† g√©rer** :
- [ ] Initial
- [ ] Loading
- [ ] Loaded (avec donn√©es)
- [ ] Error (avec message)

**Crit√®res de validation** :
- [ ] State management fonctionnel
- [ ] √âtats bien d√©finis
- [ ] Actions/Events impl√©ment√©s
- [ ] Gestion des erreurs

---

#### T-XXX-11 : Cr√©er l'√©cran Flutter pour [Nom]
- **Type** : [FE-MOB]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-10
- **Statut** : üî≤ √Ä faire

**Description** :
Cr√©er les widgets et √©crans Flutter.

**Fichiers √† cr√©er/modifier** :
- `lib/screens/[nom]/[nom]_list_screen.dart`
- `lib/screens/[nom]/[nom]_detail_screen.dart`
- `lib/screens/[nom]/[nom]_form_screen.dart`
- `lib/widgets/[nom]/[nom]_card.dart`
- `lib/widgets/[nom]/[nom]_form.dart`

**Crit√®res de validation** :
- [ ] √âcrans cr√©√©s et fonctionnels
- [ ] Material Design / Cupertino respect√©
- [ ] Responsive (tablette + t√©l√©phone)
- [ ] Pull-to-refresh impl√©ment√©
- [ ] Loading states affich√©s
- [ ] Error handling avec Snackbar/Dialog
- [ ] Navigation configur√©e

---

### Couche Tests [TEST]

#### T-XXX-12 : Tests unitaires Backend
- **Type** : [TEST]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-04
- **Statut** : üî≤ √Ä faire

**Description** :
√âcrire les tests unitaires pour le backend.

**Fichiers √† cr√©er/modifier** :
- `tests/Unit/Service/[Nom]ServiceTest.php`
- `tests/Unit/Entity/[Nom]Test.php`

**Sc√©narios √† tester** :
- [ ] [Sc√©nario 1 depuis les crit√®res d'acceptance]
- [ ] [Sc√©nario 2]
- [ ] [Sc√©nario erreur 1]

**Crit√®res de validation** :
- [ ] Couverture > 80%
- [ ] Tous les tests passent
- [ ] Mocks correctement utilis√©s
- [ ] Edge cases couverts

---

#### T-XXX-13 : Tests API (fonctionnels)
- **Type** : [TEST]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-03
- **Statut** : üî≤ √Ä faire

**Description** :
√âcrire les tests fonctionnels API Platform.

**Fichiers √† cr√©er/modifier** :
- `tests/Functional/Api/[Nom]Test.php`

**Endpoints √† tester** :
| M√©thode | Endpoint | Cas nominal | Cas erreur |
|---------|----------|-------------|------------|
| GET | /api/[nom] | ‚úÖ Liste | 401 non auth |
| GET | /api/[nom]/{id} | ‚úÖ D√©tail | 404 not found |
| POST | /api/[nom] | ‚úÖ Cr√©ation | 422 validation |
| PUT | /api/[nom]/{id} | ‚úÖ Mise √† jour | 403 forbidden |
| DELETE | /api/[nom]/{id} | ‚úÖ Suppression | 404 not found |

**Crit√®res de validation** :
- [ ] Tous les endpoints test√©s
- [ ] Codes HTTP v√©rifi√©s
- [ ] R√©ponses JSON valid√©es
- [ ] Authentification test√©e
- [ ] Validation test√©e

---

#### T-XXX-14 : Tests Widget Flutter
- **Type** : [TEST]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-11
- **Statut** : üî≤ √Ä faire

**Description** :
√âcrire les widget tests Flutter.

**Fichiers √† cr√©er/modifier** :
- `test/widgets/[nom]_card_test.dart`
- `test/screens/[nom]_list_screen_test.dart`

**Sc√©narios √† tester** :
- [ ] Affichage correct des donn√©es
- [ ] Interactions utilisateur (tap, swipe)
- [ ] √âtats de loading/error
- [ ] Navigation

**Crit√®res de validation** :
- [ ] Widgets principaux test√©s
- [ ] Pumping correct avec providers
- [ ] Mocks API configur√©s
- [ ] Golden tests si n√©cessaire

---

#### T-XXX-15 : Tests E2E
- **Type** : [TEST]
- **Estimation** : [X]h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-06, T-XXX-11
- **Statut** : üî≤ √Ä faire

**Description** :
√âcrire les tests end-to-end pour le parcours complet.

**Fichiers √† cr√©er/modifier** :
- `tests/E2E/[Nom]FlowTest.php` (Web)
- `integration_test/[nom]_flow_test.dart` (Mobile)

**Parcours √† tester** :
Bas√© sur les crit√®res d'acceptance de la US :
1. [Sc√©nario nominal complet]
2. [Sc√©nario alternatif 1]
3. [Sc√©nario erreur 1]

**Crit√®res de validation** :
- [ ] Parcours nominal test√© de bout en bout
- [ ] Web ET Mobile test√©s
- [ ] Screenshots de validation
- [ ] Temps d'ex√©cution < 2 min

---

### Couche Documentation [DOC]

#### T-XXX-16 : Documentation technique
- **Type** : [DOC]
- **Estimation** : 1h
- **Assign√© √†** : TBD
- **D√©pend de** : T-XXX-15
- **Statut** : üî≤ √Ä faire

**Description** :
Mettre √† jour la documentation technique.

**Fichiers √† cr√©er/modifier** :
- `docs/api/[nom].md`
- `README.md` (si n√©cessaire)
- PHPDoc dans le code
- DartDoc dans le code Flutter

**Crit√®res de validation** :
- [ ] API document√©e dans OpenAPI
- [ ] PHPDoc/DartDoc complets
- [ ] README √† jour
- [ ] Changelog mis √† jour

---

### Code Review [REV]

#### T-XXX-17 : Code Review
- **Type** : [REV]
- **Estimation** : 2h
- **Assign√© √†** : [Reviewer]
- **D√©pend de** : T-XXX-16
- **Statut** : üî≤ √Ä faire

**Description** :
Review compl√®te du code avant merge.

**Checklist de review** :
- [ ] Code lisible et maintenable
- [ ] Conventions de nommage respect√©es
- [ ] Pas de code dupliqu√©
- [ ] Tests pr√©sents et passants
- [ ] PHPStan/Dart analyzer sans erreur
- [ ] S√©curit√© v√©rifi√©e
- [ ] Performance acceptable
- [ ] Documentation √† jour

**Crit√®res de validation** :
- [ ] Review approuv√©e par 1+ d√©veloppeur
- [ ] Tous les commentaires trait√©s
- [ ] CI verte
- [ ] Pr√™t √† merger

---

## Graphe de d√©pendances des t√¢ches

```mermaid
graph TD
    T01[T-XXX-01: Entity] --> T02[T-XXX-02: Migration]
    T01 --> T03[T-XXX-03: API Resource]
    T03 --> T04[T-XXX-04: Service]
    T03 --> T05[T-XXX-05: Controller]
    T05 --> T06[T-XXX-06: Templates]
    T06 --> T07[T-XXX-07: Stimulus]
    T03 --> T08[T-XXX-08: Model Dart]
    T08 --> T09[T-XXX-09: Repository Flutter]
    T09 --> T10[T-XXX-10: Provider/Bloc]
    T10 --> T11[T-XXX-11: Screen Flutter]
    T04 --> T12[T-XXX-12: Tests Unit BE]
    T03 --> T13[T-XXX-13: Tests API]
    T11 --> T14[T-XXX-14: Tests Widget]
    T07 --> T15[T-XXX-15: Tests E2E]
    T11 --> T15
    T15 --> T16[T-XXX-16: Documentation]
    T16 --> T17[T-XXX-17: Code Review]
```

## R√©sum√© des estimations

| Couche | Nb t√¢ches | Heures estim√©es |
|--------|-----------|-----------------|
| [DB] | 2 | Xh |
| [BE] | 2 | Xh |
| [FE-WEB] | 3 | Xh |
| [FE-MOB] | 4 | Xh |
| [TEST] | 4 | Xh |
| [DOC] | 1 | Xh |
| [REV] | 1 | Xh |
| **TOTAL** | **17** | **XXh** |

## Checklist Definition of Done par t√¢che

Chaque t√¢che est termin√©e quand :
- [ ] Code √©crit et fonctionnel
- [ ] Tests associ√©s passants
- [ ] PHPStan/Dart analyzer sans erreur
- [ ] Code document√©
- [ ] Pas de r√©gression
- [ ] Review effectu√©e (si applicable)
```

### √âTAPE 5 : Cr√©er le Task Board du Sprint

Cr√©e un fichier `task-board.md` pour visualiser l'avancement :

```markdown
# Task Board - Sprint XXX : [But du Sprint]

## L√©gende des statuts
- üî≤ √Ä faire (To Do)
- üîÑ En cours (In Progress)
- üëÄ En review (In Review)
- ‚úÖ Termin√© (Done)
- üö´ Bloqu√© (Blocked)

## Vue Kanban

### üî≤ √Ä Faire
| ID | US | T√¢che | Estimation | Assign√© |
|----|-----|-------|------------|---------|
| T-001-01 | US-001 | [T√¢che] | 4h | - |
| T-001-02 | US-001 | [T√¢che] | 2h | - |
| T-002-01 | US-002 | [T√¢che] | 3h | - |

### üîÑ En Cours
| ID | US | T√¢che | Estimation | Assign√© | D√©marr√© |
|----|-----|-------|------------|---------|---------|
| | | | | | |

### üëÄ En Review
| ID | US | T√¢che | Estimation | Assign√© | Reviewer |
|----|-----|-------|------------|---------|----------|
| | | | | | |

### ‚úÖ Termin√©
| ID | US | T√¢che | Estimation | R√©el | Assign√© | Termin√© |
|----|-----|-------|------------|------|---------|---------|
| | | | | | | |

### üö´ Bloqu√©
| ID | US | T√¢che | Raison du blocage | Action requise |
|----|-----|-------|-------------------|----------------|
| | | | | |

## M√©triques du Sprint

### Avancement
- **T√¢ches totales** : [X]
- **Termin√©es** : [X] ([X]%)
- **En cours** : [X]
- **Bloqu√©es** : [X]

### Heures
- **Estim√©es** : [X]h
- **Consomm√©es** : [X]h
- **Restantes** : [X]h

### Burndown
```
Jour 1: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà XXh
Jour 2: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   XXh
Jour 3: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà     XXh
Jour 4: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà       XXh
Jour 5: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà         XXh
...
```

## D√©pendances critiques

```mermaid
graph LR
    subgraph US-001
        T001_01 --> T001_02
        T001_02 --> T001_03
    end
    subgraph US-002
        T002_01 --> T002_02
    end
    T001_02 --> T002_01
```

## Blocages et Impediments

| Date | Blocage | Impact | Action | Responsable | R√©solu |
|------|---------|--------|--------|-------------|--------|
| | | | | | |
```

### √âTAPE 6 : Cr√©er le README des t√¢ches

Cr√©e un fichier `tasks/README.md` :

```markdown
# T√¢ches du Sprint XXX : [But du Sprint]

## Vue d'ensemble

| US | Titre | Points | Nb T√¢ches | Heures | Statut |
|----|-------|--------|-----------|--------|--------|
| US-XXX | [Titre] | X | X | Xh | üî≤ 0% |
| US-XXX | [Titre] | X | X | Xh | üî≤ 0% |

**Total Sprint** : [X] t√¢ches | [X]h estim√©es

## R√©partition par type

| Type | Nb T√¢ches | Heures | % du Sprint |
|------|-----------|--------|-------------|
| [DB] | X | Xh | X% |
| [BE] | X | Xh | X% |
| [FE-WEB] | X | Xh | X% |
| [FE-MOB] | X | Xh | X% |
| [TEST] | X | Xh | X% |
| [DOC] | X | Xh | X% |
| [REV] | X | Xh | X% |

## Fichiers de t√¢ches

- [US-XXX - Titre](./US-XXX-tasks.md)
- [US-XXX - Titre](./US-XXX-tasks.md)
- [T√¢ches techniques transverses](./technical-tasks.md)

## Conventions

### Num√©rotation
- Format : `T-[US]-[Num√©ro s√©quentiel]`
- Exemple : `T-001-05` = T√¢che 5 de la US-001

### Estimation
- En heures (pas en points)
- Minimum : 0.5h
- Maximum : 8h (sinon d√©couper)

### Statuts
| Emoji | Statut | Description |
|-------|--------|-------------|
| üî≤ | √Ä faire | Non commenc√©e |
| üîÑ | En cours | En d√©veloppement |
| üëÄ | En review | En attente de review |
| ‚úÖ | Termin√© | Valid√© et merg√© |
| üö´ | Bloqu√© | En attente de r√©solution |
```

### √âTAPE 7 : T√¢ches techniques transverses

Cr√©e un fichier `technical-tasks.md` pour les t√¢ches partag√©es :

```markdown
# T√¢ches Techniques Transverses - Sprint XXX

Ces t√¢ches ne sont pas li√©es √† une US sp√©cifique mais sont n√©cessaires au Sprint.

## Infrastructure & Setup

### T-TECH-01 : Configuration environnement
- **Type** : [OPS]
- **Estimation** : 2h
- **Description** : Configuration Docker, variables d'environnement, etc.

### T-TECH-02 : Mise √† jour des d√©pendances
- **Type** : [OPS]
- **Estimation** : 1h
- **Description** : Mise √† jour Composer/Pub packages

## Refactoring

### T-TECH-03 : [Description du refactoring]
- **Type** : [BE]
- **Estimation** : Xh
- **Raison** : Dette technique identifi√©e

## CI/CD

### T-TECH-04 : Pipeline CI
- **Type** : [OPS]
- **Estimation** : 2h
- **Description** : Ajout/modification des jobs CI

## Documentation

### T-TECH-05 : Mise √† jour architecture
- **Type** : [DOC]
- **Estimation** : 1h
- **Description** : Sch√©mas d'architecture √† jour
```

## R√àGLES IMPORTANTES

### R√®gles d'estimation des t√¢ches
1. **Unit√©** : Toujours en heures (pas en points)
2. **Granularit√©** : Entre 0.5h et 8h
3. **Buffer** : Ajouter 20% pour les impr√©vus
4. **R√©vision** : R√©-estimer quotidiennement les t√¢ches restantes

### R√®gles de d√©pendances
1. Une t√¢che bloqu√©e = Sprint en danger ‚Üí escalade imm√©diate
2. T√¢ches parall√©lisables clairement identifi√©es
3. Chemin critique visible dans le graphe Mermaid

### R√®gles d'assignation
1. Auto-assignation par l'√©quipe (pas de command & control)
2. Une seule personne responsable par t√¢che
3. Pas plus de 2 t√¢ches en cours par personne

### Correspondance US ‚Üí T√¢ches typiques

| Type de US | T√¢ches Backend | T√¢ches Frontend | T√¢ches Tests |
|------------|----------------|-----------------|--------------|
| CRUD simple | Entity, API Resource | Controller+Twig, Screen Flutter | Unit + API + Widget |
| Feature m√©tier | Entity, Service, API | Controller+Twig+Stimulus, Screen+Bloc | Unit + Integration + E2E |
| Int√©gration externe | Service, Adapter | - | Integration + Mock |
| UI only | - | Controller+Twig+Stimulus, Screen | Widget + E2E |

## CONSIGNES D'EX√âCUTION

1. **Lire** le sprint-goal.md et toutes les US du sprint
2. **Identifier** toutes les couches techniques impact√©es par chaque US
3. **D√©composer** chaque US en t√¢ches atomiques (0.5h-8h)
4. **Cr√©er** le fichier de t√¢ches pour chaque US
5. **Identifier** les d√©pendances entre t√¢ches
6. **Cr√©er** le graphe Mermaid des d√©pendances
7. **Cr√©er** le task board initial
8. **Calculer** les totaux et v√©rifier la capacit√© du sprint

## FORMAT DE SORTIE

Pour chaque sprint trait√© :
- `tasks/README.md` - Vue d'ensemble
- `tasks/US-XXX-tasks.md` - T√¢ches par US
- `tasks/technical-tasks.md` - T√¢ches transverses
- `task-board.md` - Tableau Kanban

---
Ex√©cute maintenant cette mission de d√©composition des t√¢ches.
