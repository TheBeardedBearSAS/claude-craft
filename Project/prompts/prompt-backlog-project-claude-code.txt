# PROMPT CLAUDE CODE - G√âN√âRATION BACKLOG & SPRINTS SCRUM

## CONTEXTE
Tu es un Product Owner et Scrum Master exp√©riment√©. Tu dois analyser les documents de sp√©cification d'un projet pour cr√©er un backlog produit complet et planifier les sprints.

## FONDAMENTAUX SCRUM (OBLIGATOIRE)

### Les 3 Piliers de Scrum
Le backlog DOIT respecter ces 3 piliers fondamentaux :
1. **Transparence** : Tout est visible et compr√©hensible par tous les acteurs
2. **Inspection** : Le travail peut √™tre √©valu√© r√©guli√®rement (Sprint Review, Daily)
3. **Adaptation** : Ajustements possibles bas√©s sur les inspections (R√©trospective)

### Le Manifeste Agile - 4 Valeurs
```
‚úì Les individus et leurs interactions > processus et outils
‚úì Des logiciels op√©rationnels > documentation exhaustive
‚úì La collaboration avec les clients > n√©gociation contractuelle
‚úì L'adaptation au changement > suivi d'un plan
```

### Les 12 Principes Agile (√† garder en t√™te)
1. Livraisons rapides et r√©guli√®res de valeur client
2. Accueillir positivement les changements
3. Livrer fr√©quemment (quelques semaines max)
4. Collaboration quotidienne business/d√©veloppeurs
5. Personnes motiv√©es + confiance
6. Face √† face = meilleure communication
7. Logiciel op√©rationnel = mesure d'avancement
8. Rythme soutenable
9. Excellence technique continue
10. Simplicit√© (minimiser le travail inutile)
11. √âquipes auto-organis√©es
12. R√©flexion r√©guli√®re sur l'am√©lioration

## STACK TECHNIQUE DU PROJET
**IMPORTANT** : Consulte `./docs/ARCHITECTURE_TECHNIQUE_JOINA.md` pour tous les d√©tails techniques.

| Couche | Technologie | D√©tails |
|--------|-------------|---------|
| üåê Web | Symfony UX + Turbo | Twig, Stimulus, Live Components |
| üì± Mobile | Flutter | Dart, iOS 15+, Android 10+ |
| ‚öôÔ∏è API | API Platform | REST/GraphQL, OpenAPI auto-g√©n√©r√© |
| ü§ñ MCP | symfony/mcp-bundle | Serveur MCP pour int√©gration IA |
| üóÑÔ∏è DB | PostgreSQL | Doctrine ORM |
| üê≥ Infra | Docker | Conteneurisation compl√®te |

### Vertical Slicing obligatoire
Chaque User Story doit traverser :
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      UI Layer                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ   Symfony UX/Turbo  ‚îÇ   ‚îÇ      Flutter        ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ   (Twig + Stimulus) ‚îÇ   ‚îÇ   (Dart Widgets)    ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ             ‚îÇ                         ‚îÇ                     ‚îÇ
‚îÇ             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                     ‚îÇ
‚îÇ                          ‚ñº                                  ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                        ‚îÇ
‚îÇ              ‚îÇ    API Platform     ‚îÇ                        ‚îÇ
‚îÇ              ‚îÇ  (REST + GraphQL)   ‚îÇ                        ‚îÇ
‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                        ‚îÇ
‚îÇ                         ‚ñº                                   ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                        ‚îÇ
‚îÇ              ‚îÇ    PostgreSQL       ‚îÇ                        ‚îÇ
‚îÇ              ‚îÇ   (Doctrine ORM)    ‚îÇ                        ‚îÇ
‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## DOCUMENTS √Ä ANALYSER
R√©pertoire : `./docs/`
- ARCHITECTURE_TECHNIQUE_JOINA.md
- CAHIER_DES_CHARGES_JOINA.md

## MISSION

### √âTAPE 1 : Analyse des documents
1. Lis et analyse en profondeur les deux documents
2. Identifie :
   - Les fonctionnalit√©s m√©tier (features)
   - Les exigences techniques
   - Les contraintes et d√©pendances
   - Les acteurs/personas
   - Les crit√®res de qualit√© attendus

### √âTAPE 1bis : D√©finition des Personas
Cr√©e un fichier `personas.md` dans `project-management/` avec tous les personas identifi√©s.

```markdown
# Personas - [NOM DU PROJET]

## Vue d'ensemble des personas

| ID | Nom | R√¥le | Priorit√© | Description courte |
|----|-----|------|----------|-------------------|
| P-001 | [Pr√©nom fictif] | [R√¥le] | Primaire | [Description en 1 ligne] |
| P-002 | [Pr√©nom fictif] | [R√¥le] | Secondaire | [Description en 1 ligne] |
| P-003 | [Pr√©nom fictif] | [R√¥le] | Tertiaire | [Description en 1 ligne] |

---

## P-001 : [Pr√©nom] - [R√¥le principal]

### Identit√©
- **Nom** : [Pr√©nom Nom fictif]
- **√Çge** : [Tranche d'√¢ge]
- **Profession** : [M√©tier/Occupation]
- **Localisation** : [Ville/R√©gion type]
- **Niveau technique** : [Novice / Interm√©diaire / Expert]

### Photo/Avatar
[Description visuelle ou placeholder pour image]

### Citation repr√©sentative
> "[Une phrase qui r√©sume sa motivation principale]"

### Contexte et background
[2-3 paragraphes d√©crivant qui est cette personne, son contexte de vie, son travail, ses responsabilit√©s]

### Objectifs (Goals)
#### Objectifs principaux
1. [Objectif principal li√© au produit]
2. [Objectif secondaire]
3. [Objectif tertiaire]

#### Objectifs de vie (au-del√† du produit)
- [Objectif personnel/professionnel plus large]

### Frustrations et Pain Points
1. **[Frustration 1]** : [Description d√©taill√©e]
2. **[Frustration 2]** : [Description d√©taill√©e]
3. **[Frustration 3]** : [Description d√©taill√©e]

### Motivations
- [Ce qui le pousse √† utiliser le produit]
- [Ce qu'il esp√®re accomplir]
- [Ce qui le rendrait satisfait]

### Comportements et habitudes
#### Utilisation technologique
- **Devices principaux** : [Smartphone / Tablette / Desktop]
- **OS** : [iOS / Android / Windows / Mac]
- **Temps d'√©cran quotidien** : [X heures]
- **Apps favorites** : [Liste d'apps similaires ou compl√©mentaires]

#### Parcours type
1. [√âtape 1 de son parcours utilisateur typique]
2. [√âtape 2]
3. [√âtape 3]

### Sc√©narios d'utilisation
#### Sc√©nario principal
**Contexte** : [Situation dans laquelle il utilise le produit]
**Besoin** : [Ce qu'il cherche √† accomplir]
**Action** : [Comment il interagit avec le produit]
**R√©sultat attendu** : [Ce qu'il esp√®re obtenir]

#### Sc√©nario secondaire
[M√™me format...]

### Crit√®res de d√©cision
Ce qui l'inciterait √† :
- **Adopter le produit** : [Crit√®res]
- **Continuer √† l'utiliser** : [Crit√®res]
- **Le recommander** : [Crit√®res]
- **L'abandonner** : [Crit√®res]

### Accessibilit√© et contraintes
- [Contraintes physiques si applicable]
- [Contraintes de temps]
- [Contraintes techniques]
- [Contraintes financi√®res]

### Relation avec les autres personas
- **Interagit avec** : [P-XXX - Comment]
- **D√©pend de** : [P-XXX - Pourquoi]

---

## P-002 : [Pr√©nom] - [R√¥le]
[M√™me structure...]

---

## P-003 : [Pr√©nom] - [R√¥le]
[M√™me structure...]

---

## Matrice Personas / Fonctionnalit√©s

| Fonctionnalit√© | P-001 | P-002 | P-003 | Priorit√© |
|----------------|-------|-------|-------|----------|
| [Feature 1] | ‚≠ê‚≠ê‚≠ê | ‚≠ê | - | Must |
| [Feature 2] | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê | Must |
| [Feature 3] | ‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | Should |

L√©gende : ‚≠ê‚≠ê‚≠ê = Critique | ‚≠ê‚≠ê = Important | ‚≠ê = Utile | - = Non concern√©

## Anti-Personas (qui n'est PAS notre cible)

### AP-001 : [Pr√©nom] - [R√¥le]
- **Pourquoi ce n'est pas notre cible** : [Explication]
- **Risque si on le cible** : [Impact n√©gatif sur le produit]
```

### R√®gles pour les personas

1. **Minimum 3 personas** : 1 primaire, 1-2 secondaires, 1+ tertiaires
2. **Personas primaires** : Ceux pour qui le produit est principalement con√ßu
3. **Personas secondaires** : Utilisateurs importants mais pas la cible principale
4. **Personas tertiaires** : Utilisateurs occasionnels ou avec des besoins sp√©cifiques
5. **Anti-personas** : D√©finir qui N'EST PAS la cible pour √©viter le feature creep

### Lien avec les User Stories
Chaque User Story doit r√©f√©rencer un persona sp√©cifique :
```
**En tant que** [P-001 : Marie, utilisatrice r√©guli√®re]
**Je veux** [action]
**Afin de** [b√©n√©fice align√© avec ses objectifs]
```

### √âTAPE 2 : Cr√©ation de la structure de r√©pertoires
Cr√©e la structure suivante :
```
project-management/
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ personas.md                     # D√©finition de tous les personas
‚îú‚îÄ‚îÄ definition-of-done.md
‚îú‚îÄ‚îÄ dependencies-matrix.md          # Matrice globale des d√©pendances
‚îú‚îÄ‚îÄ backlog/
‚îÇ   ‚îú‚îÄ‚îÄ epics/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ EPIC-XXX-nom.md
‚îÇ   ‚îî‚îÄ‚îÄ user-stories/
‚îÇ       ‚îî‚îÄ‚îÄ US-XXX-nom.md
‚îî‚îÄ‚îÄ sprints/
    ‚îú‚îÄ‚îÄ sprint-001-walking-skeleton/
    ‚îÇ   ‚îú‚îÄ‚îÄ sprint-goal.md
    ‚îÇ   ‚îú‚îÄ‚îÄ sprint-dependencies.md  # D√©pendances du sprint
    ‚îÇ   ‚îî‚îÄ‚îÄ US-XXX-nom.md (liens symboliques ou copies)
    ‚îú‚îÄ‚îÄ sprint-002-authentification-base/
    ‚îú‚îÄ‚îÄ sprint-003-[but_du_sprint]/
    ‚îî‚îÄ‚îÄ ...
```

**Convention de nommage des sprints** : `sprint-XXX-but_du_sprint`
- XXX : Num√©ro du sprint sur 3 chiffres (001, 002, 003...)
- but_du_sprint : Objectif principal en snake_case (ex: walking_skeleton, auth_complete, crud_utilisateurs)

### √âTAPE 3 : Cr√©ation de la Definition of Done (DoD)
Cr√©e le fichier `definition-of-done.md` avec les crit√®res suivants adapt√©s au projet :

```markdown
# Definition of Done (DoD)

## Stack technique de r√©f√©rence
- **Web** : Symfony UX + Turbo + Stimulus
- **Mobile** : Flutter (Dart)
- **API** : API Platform + MCP Bundle
- **DB** : PostgreSQL

## Crit√®res obligatoires pour chaque User Story

### Code
- [ ] Code √©crit et fonctionnel
- [ ] Code review effectu√©e et approuv√©e par au moins 1 d√©veloppeur
- [ ] Respect des conventions de codage du projet
- [ ] Pas de code mort ou comment√©
- [ ] Principes SOLID respect√©s

### Tests
- [ ] Tests unitaires √©crits (couverture minimum 80%)
- [ ] Tests d'int√©gration passants
- [ ] Tests E2E pour les parcours critiques
- [ ] Tous les tests automatis√©s passent (CI verte)

### Couverture Web - Symfony UX + Turbo (OBLIGATOIRE)
- [ ] Contr√¥leur Symfony impl√©ment√© et test√©
- [ ] Templates Twig cr√©√©s avec composants Symfony UX
- [ ] Interactions Turbo (Frames/Streams) fonctionnelles
- [ ] Contr√¥leurs Stimulus √©crits si n√©cessaire
- [ ] Compatible navigateurs : Chrome, Firefox, Safari, Edge (derni√®res versions)
- [ ] Responsive design valid√© (mobile, tablet, desktop)
- [ ] Accessibilit√© v√©rifi√©e (WCAG 2.1 AA minimum)
- [ ] Tests fonctionnels Symfony (WebTestCase) passants

### Couverture Mobile - Flutter (OBLIGATOIRE)
- [ ] Widgets Flutter impl√©ment√©s et test√©s
- [ ] Compatible iOS 15+ et Android 10+
- [ ] Test√© sur √©mulateurs ET devices physiques
- [ ] Gestes natifs respect√©s (Material Design / Cupertino)
- [ ] Performance valid√©e (60 FPS, pas de jank)
- [ ] Dart analyzer sans erreur ni warning
- [ ] Tests unitaires et widget tests passants

### Couverture API - API Platform (OBLIGATOIRE)
- [ ] Ressource API Platform cr√©√©e/mise √† jour
- [ ] Endpoints REST fonctionnels (GET/POST/PUT/DELETE)
- [ ] Serialization groups configur√©s
- [ ] Validation constraints appliqu√©es
- [ ] Documentation OpenAPI g√©n√©r√©e automatiquement
- [ ] Tests API (ApiTestCase) passants
- [ ] Authentification/Autorisation v√©rifi√©e

### Couverture MCP (si applicable)
- [ ] Tools MCP expos√©s si n√©cessaire
- [ ] Resources MCP configur√©es
- [ ] Tests d'int√©gration MCP passants

### Parit√© Web/Mobile
- [ ] M√™me comportement m√©tier sur Web (Symfony) et Mobile (Flutter)
- [ ] M√™me API consomm√©e par les deux clients
- [ ] Donn√©es synchronis√©es correctement via l'API
- [ ] Pas de r√©gression sur l'autre plateforme

### Documentation
- [ ] Code document√© (PHPDoc pour PHP, DartDoc pour Dart)
- [ ] README mis √† jour si n√©cessaire
- [ ] Documentation API auto-g√©n√©r√©e par API Platform
- [ ] Changelog mis √† jour

### Qualit√©
- [ ] PHPStan niveau max pass√© (Symfony/API)
- [ ] Dart analyzer pass√© (Flutter)
- [ ] Pas de vuln√©rabilit√©s de s√©curit√© d√©tect√©es
- [ ] Performance valid√©e (temps de r√©ponse API < 200ms)

### D√©ploiement
- [ ] Merg√© sur la branche develop
- [ ] Migrations Doctrine ex√©cut√©es sans erreur
- [ ] D√©ploy√© en environnement de staging (Web + API + Mobile)
- [ ] Validation fonctionnelle par le PO (sur Web ET Mobile)
- [ ] Pas de r√©gression d√©tect√©e

### Acceptance
- [ ] Crit√®res d'acceptance de la US tous valid√©s (Web + Mobile)
- [ ] D√©monstration effectu√©e au PO sur les deux plateformes
- [ ] User Story marqu√©e comme "Done" dans l'outil de suivi
```

### √âTAPE 4 : Cr√©ation des Epics
Pour chaque epic identifi√©, cr√©e un fichier `EPIC-XXX-nom.md` :

```markdown
# EPIC-XXX : [Nom de l'Epic]

## Description
[Description d√©taill√©e de l'epic et de sa valeur m√©tier]

## Objectifs
- [Objectif 1]
- [Objectif 2]

## User Stories associ√©es
| ID | Titre | Points | Priorit√© | D√©pend de |
|----|-------|--------|----------|-----------|
| US-XXX | [Titre] | X | Must | - |
| US-XXX | [Titre] | X | Must | US-XXX |

## D√©pendances avec autres Epics

### Epics pr√©requis (bloquants)
| Epic | Raison | Criticit√© |
|------|--------|-----------|
| EPIC-XXX | [Pourquoi cet epic doit √™tre termin√© avant] | Bloquant/Partiel |

### Epics d√©pendants (bloqu√©s par celui-ci)
| Epic | Raison |
|------|--------|
| EPIC-XXX | [Ce qui sera d√©bloqu√©] |

### Matrice de d√©pendances de l'Epic
```
EPIC-001 ‚îÄ‚îÄ‚ñ∫ EPIC-002 ‚îÄ‚îÄ‚ñ∫ EPIC-004
                ‚îÇ
                ‚ñº
            EPIC-003
```

## Crit√®res de succ√®s
- [Crit√®re 1]
- [Crit√®re 2]

## Livrables incr√©mentaux
| Incr√©ment | User Stories | Valeur livr√©e | Testable par PO |
|-----------|--------------|---------------|-----------------|
| v0.1 | US-XXX | [Fonctionnalit√© minimale] | Oui |
| v0.2 | US-XXX, US-XXX | [Fonctionnalit√© √©tendue] | Oui |

## Estimation globale
- Taille : [S/M/L/XL]
- Nombre de sprints estim√© : [X]

## Minimum Marketable Feature (MMF)
Le plus petit ensemble de fonctionnalit√©s permettant de fournir une **r√©elle valeur** √† l'utilisateur.

**MMF de cet Epic** : [Description de la plus petite version livrable avec valeur]
**Valeur livr√©e par le MMF** : [B√©n√©fice concret pour l'utilisateur]
**US incluses dans le MMF** : US-XXX, US-XXX, US-XXX
**ROI du MMF** : [Retour sur investissement estim√©]

> üí° En d√©ployant le MMF en priorit√©, on r√©duit les risques tout en g√©n√©rant 
> des b√©n√©fices servant √† financer le reste du projet.
```

### √âTAPE 5 : Cr√©ation des User Stories
Pour chaque User Story, cr√©e un fichier `US-XXX-titre.md` :

**Les 3 C d'une User Story (OBLIGATOIRE)** :
1. **Carte** : Tient sur une carte 10x15 cm, concis, format standard
2. **Conversation** : Invitation √† la discussion, pas une spec exhaustive
3. **Confirmation** : Crit√®res d'acceptance clairs et testables

**Mod√®le INVEST (chaque US DOIT respecter)** :
| Crit√®re | Signification | Validation |
|---------|---------------|------------|
| **I**ndependent | Peut √™tre d√©velopp√©e seule | Pas de d√©pendance bloquante dans le m√™me sprint |
| **N**egotiable | Pas un contrat fig√© | Le "comment" reste ouvert |
| **V**aluable | Apporte de la valeur | Le "Afin de" est concret |
| **E**stimable | L'√©quipe peut estimer | Assez d√©taill√©e pour estimer |
| **S**ized | Taille appropri√©e | ‚â§ 8 points, r√©alisable en 1 Sprint |
| **T**estable | Tests possibles | Crit√®res d'acceptance v√©rifiables |

```markdown
# US-XXX : [Titre concis]

## Epic parent
EPIC-XXX : [Nom de l'Epic]

## Persona concern√©
**[P-XXX]** : [Pr√©nom] - [R√¥le]
R√©f√©rence : [../../personas.md#p-xxx](../../personas.md#p-xxx)

## User Story (Les 3 C)

### Carte (Card)
**En tant que** [P-XXX : Pr√©nom, r√¥le]
**Je veux** [action/fonctionnalit√©]
**Afin de** [b√©n√©fice/valeur - align√© avec les objectifs du persona]

### Conversation
Notes pour guider la discussion avec l'√©quipe :
- [Point √† clarifier 1]
- [Question ouverte 2]
- [Alternative possible 3]

### Confirmation (voir crit√®res d'acceptance ci-dessous)

## Validation INVEST
- [ ] **I**ndependent : Cette US peut √™tre d√©velopp√©e ind√©pendamment
- [ ] **N**egotiable : Le "comment" reste ouvert √† discussion
- [ ] **V**aluable : Apporte une valeur concr√®te au persona
- [ ] **E**stimable : L'√©quipe peut estimer cette US
- [ ] **S**ized : ‚â§ 8 points, r√©alisable en 1 Sprint
- [ ] **T**estable : Les crit√®res d'acceptance sont v√©rifiables

## Alignement avec le persona
- **Objectif du persona adress√©** : [Quel objectif de P-XXX cette US satisfait]
- **Pain point r√©solu** : [Quelle frustration de P-XXX cette US soulage]
- **Sc√©nario d'utilisation** : [R√©f√©rence au sc√©nario du persona]

## Description d√©taill√©e
[Contexte et d√©tails suppl√©mentaires]

## Crit√®res d'acceptance (OBLIGATOIRE - Format Gherkin + SMART)

**Mod√®le SMART pour chaque crit√®re** :
| Crit√®re | Signification | Exemple |
|---------|---------------|---------|
| **S**p√©cifique | Explicitement d√©fini | "Le bouton devient vert" (pas "le bouton change") |
| **M**esurable | Observable et quantifiable | "< 200ms" (pas "rapide") |
| **A**tteignable | R√©alisable techniquement | Pas de "parfait", "instantan√©" |
| **R**√©aliste | En rapport avec la Story | Dans le scope de la US |
| **T**emporel | Quand observer le r√©sultat | "Apr√®s clic", "En moins de 2s" |

### Sc√©nario nominal
```gherkin
Scenario: [Nom descriptif du sc√©nario principal]
GIVEN [√©tat initial du syst√®me / contexte pr√©cis]
  AND [condition suppl√©mentaire si n√©cessaire]
WHEN [acteur identifi√©] [action sp√©cifique]
  AND [action compl√©mentaire si n√©cessaire]
THEN [r√©sultat observable et mesurable]
  AND [effet secondaire / notification / mise √† jour]
```

### Sc√©narios alternatifs
```gherkin
Scenario: [Nom du sc√©nario alternatif 1]
GIVEN [contexte sp√©cifique diff√©rent]
WHEN [P-XXX : Pr√©nom] [action variante]
THEN [r√©sultat attendu diff√©rent mais valide]

Scenario: [Nom du sc√©nario alternatif 2]
GIVEN [autre contexte]
WHEN [acteur] [autre action]
THEN [autre r√©sultat valide]
```

### Sc√©narios d'erreur
```gherkin
Scenario: [Cas d'erreur 1 - ex: donn√©es invalides]
GIVEN [contexte]
WHEN [acteur] [action avec donn√©es erron√©es]
THEN le message d'erreur "[message exact]" s'affiche
  AND le syst√®me reste dans un √©tat coh√©rent
  AND [comportement de r√©cup√©ration]

Scenario: [Cas d'erreur 2 - ex: droits insuffisants]
GIVEN [P-XXX] sans les permissions requises
WHEN il tente [action]
THEN l'acc√®s est refus√© avec le message "[message exact]"
  AND l'action est journalis√©e
```

### Crit√®res de validation UI/UX (OBLIGATOIRE pour Web ET Mobile)

#### Web (Symfony UX + Turbo)
- [ ] Template Twig cr√©√© avec composants Symfony UX
- [ ] Turbo Frames/Streams utilis√©s pour interactions dynamiques
- [ ] Contr√¥leur Stimulus √©crit si comportement JS n√©cessaire
- [ ] Feedback visuel lors de l'action (Turbo loading states)
- [ ] Temps de r√©ponse < X secondes
- [ ] Compatible navigateurs : Chrome, Firefox, Safari, Edge
- [ ] Responsive design (mobile-first)

#### Mobile (Flutter)
- [ ] Widget Flutter cr√©√© (StatelessWidget ou StatefulWidget selon besoin)
- [ ] Material Design (Android) / Cupertino (iOS) respect√©
- [ ] Comportement adapt√© tactile (touch targets 48x48 minimum)
- [ ] Feedback visuel/haptique lors de l'action
- [ ] Temps de r√©ponse < X secondes
- [ ] Compatible iOS 15+ et Android 10+
- [ ] Gestes natifs respect√©s (swipe, pull-to-refresh...)
- [ ] √âtat de chargement g√©r√© (CircularProgressIndicator, Shimmer...)

#### API Platform
- [ ] Endpoint REST disponible et document√©
- [ ] Codes HTTP appropri√©s (200, 201, 400, 401, 403, 404, 422...)
- [ ] Pagination impl√©ment√©e si liste
- [ ] Filtres disponibles si pertinent

#### Parit√© Web/Mobile
- [ ] M√™me fonctionnalit√© disponible sur les deux plateformes
- [ ] M√™me comportement m√©tier (seule l'UI diff√®re)
- [ ] M√™me API consomm√©e (API Platform)
- [ ] Donn√©es synchronis√©es entre Web et Mobile

### Crit√®res de validation technique
- [ ] [Contrainte de performance]
- [ ] [Contrainte de s√©curit√©]
- [ ] [Validation des donn√©es]

## R√®gles m√©tier
- [R√®gle 1]
- [R√®gle 2]

## Maquettes / Wireframes
[Liens ou descriptions si disponibles]

## Notes techniques
R√©f√©rence : `./docs/ARCHITECTURE_TECHNIQUE_JOINA.md`

### Backend (Symfony + API Platform)
- [ ] Entit√© Doctrine : [Nom de l'entit√©]
- [ ] Ressource API Platform : [Configuration]
- [ ] Repository : [M√©thodes custom si n√©cessaire]
- [ ] Service : [Logique m√©tier]
- [ ] Voter/Security : [R√®gles d'acc√®s]

### Frontend Web (Symfony UX + Turbo)
- [ ] Contr√¥leur Symfony : [Nom]
- [ ] Template Twig : [Chemin]
- [ ] Composants UX : [Live Component, Autocomplete, etc.]
- [ ] Contr√¥leur Stimulus : [Si n√©cessaire]

### Frontend Mobile (Flutter)
- [ ] Screen/Page : [Nom du widget]
- [ ] State Management : [Provider/Bloc/Riverpod]
- [ ] Repository : [Appels API]
- [ ] Mod√®le : [Classe Dart]

### MCP (si applicable)
- [ ] Tool MCP : [Nom et description]
- [ ] Resource MCP : [URI et type]

## Estimation
- **Story Points** : [1/2/3/5/8/13/21]
- **Complexit√©** : [Faible/Moyenne/Haute]

## Priorit√©
- **Valeur m√©tier** : [1-5]
- **MoSCoW** : [Must/Should/Could/Won't]

## D√©pendances

### User Stories pr√©requises (BLOQUANTES)
| US | Titre | Raison | Statut |
|----|-------|--------|--------|
| US-XXX | [Titre] | [Pourquoi cette US doit √™tre termin√©e avant] | √Ä faire |

### User Stories d√©pendantes (BLOQU√âES par celle-ci)
| US | Titre | Ce qui sera d√©bloqu√© |
|----|-------|---------------------|
| US-XXX | [Titre] | [Fonctionnalit√© rendue possible] |

### D√©pendances techniques
- [ ] [Service/API/Composant requis]
- [ ] [Configuration/Infrastructure n√©cessaire]

### Cha√Æne de d√©pendances
```
US-001 (Auth base) 
    ‚îî‚îÄ‚îÄ‚ñ∫ US-002 (Login) 
            ‚îî‚îÄ‚îÄ‚ñ∫ US-003 (Remember me)
            ‚îî‚îÄ‚îÄ‚ñ∫ US-004 (OAuth)
```

## Incr√©ment livrable
Cette US permet de livrer : [Description de la valeur incr√©mentale testable]

## Sprint assign√©
Sprint [X] (√† d√©finir lors du Sprint Planning)
```

### √âTAPE 6 : Priorisation du Backlog
Priorise les User Stories selon :
1. **Valeur m√©tier** : Impact sur les utilisateurs et le business
2. **Risques techniques** : Traiter les risques t√¥t
3. **D√©pendances** : Respecter l'ordre logique
4. **MoSCoW** : Must Have en premier

### √âTAPE 7 : Cr√©ation des Sprints
Pour chaque sprint, cr√©e un r√©pertoire nomm√© `sprint-XXX-but_du_sprint/` avec :

**sprint-goal.md** :
```markdown
# Sprint XXX : [But du Sprint]

## Informations g√©n√©rales
- **Nom du sprint** : sprint-XXX-[but_du_sprint]
- **Dates** : [Date d√©but] ‚Üí [Date fin]
- **Dur√©e** : 2 semaines

## Objectif du Sprint (Sprint Goal)
> [Une phrase qui explique POURQUOI ce Sprint existe et quelle valeur il apporte]

L'√©quipe garde cet objectif en t√™te. Si le travail s'av√®re plus difficile que pr√©vu, 
l'√©quipe collabore avec le Product Owner et adapte le scope tout en pr√©servant l'objectif.

**Cet objectif est un sous-ensemble de** : [Objectif de la Release]

## C√©r√©monies du Sprint

| C√©r√©monie | Dur√©e | Date/Heure | Participants |
|-----------|-------|------------|--------------|
| Sprint Planning Part 1 (Le QUOI) | 2h | [Date] | PO + √âquipe + SM |
| Sprint Planning Part 2 (Le COMMENT) | 2h | [Date] | √âquipe + SM |
| Daily Scrum | 15 min | Chaque jour [Heure] | √âquipe |
| Affinage Backlog | 1h | [Date] (5-10% du Sprint) | PO + √âquipe |
| Sprint Review | 2h | [Date fin] | PO + √âquipe + Stakeholders |
| R√©trospective | 1.5h | [Date fin] | √âquipe + SM |

## Capacit√© de l'√©quipe
- V√©locit√© estim√©e : [X] story points
- Disponibilit√© : [X]%

## User Stories s√©lectionn√©es

| ID | Titre | Points | Priorit√© | D√©pend de | Statut |
|----|-------|--------|----------|-----------|--------|
| US-XXX | [Titre] | X | Must | - | üî≤ √Ä faire |
| US-XXX | [Titre] | X | Must | US-XXX | üî≤ √Ä faire |
| US-XXX | [Titre] | X | Should | US-XXX | üî≤ √Ä faire |

**Total Story Points** : [X]

## Couverture par plateforme
| US | Web | Mobile | API | DB |
|----|-----|--------|-----|-----|
| US-XXX | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| US-XXX | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |

## Ordre d'ex√©cution recommand√©
Bas√© sur les d√©pendances :
1. üèÅ US-XXX (fondation - aucune d√©pendance)
2. US-XXX (d√©pend de US-XXX)
3. US-XXX (d√©pend de US-XXX)
4. US-XXX (peut √™tre parall√©lis√©e avec US-XXX)

## Graphe de d√©pendances du Sprint
```mermaid
graph TD
    US-001[US-001: Titre] --> US-002[US-002: Titre]
    US-001 --> US-003[US-003: Titre]
    US-002 --> US-004[US-004: Titre]
    US-003 --> US-004
```

## Risques identifi√©s
- [Risque 1] - Mitigation : [Action]
- [Risque 2] - Mitigation : [Action]

## Definition of Done
Voir : ../../definition-of-done.md

## Crit√®res de succ√®s du Sprint
- [ ] [Crit√®re 1]
- [ ] [Crit√®re 2]
- [ ] Toutes les US respectent la DoD
- [ ] Toutes les US sont testables sur Web ET Mobile
- [ ] L'objectif du Sprint est atteint

## Incr√©ment livrable
√Ä la fin de ce sprint, l'utilisateur pourra (sur Web ET Mobile) : [Description de la valeur livr√©e]

---

## R√©trospective - Directive Fondamentale

> "Peu importe ce que nous d√©couvrons, nous comprenons et croyons sinc√®rement 
> que tout le monde a fait le meilleur travail possible, compte tenu de ce 
> qu'ils savaient √† l'√©poque, leurs comp√©tences et aptitudes, les ressources 
> disponibles, et la situation √† port√©e de main."

### Format de r√©trospective sugg√©r√© : √âtoile de Mer (Starfish)
- üü¢ **Continuer** : Ce qui fonctionne bien
- üî¥ **Arr√™ter** : Ce qui ne fonctionne pas
- üü° **Commencer** : Nouvelles pratiques √† essayer
- ‚¨ÜÔ∏è **Plus de** : Ce qu'on fait bien mais pas assez
- ‚¨áÔ∏è **Moins de** : Ce qu'on fait trop

### Questions de la r√©trospective
1. Qu'est-ce qui a bien fonctionn√© ?
2. Qu'est-ce qui n'a pas fonctionn√© ?
3. Quelles actions d'am√©lioration pour le prochain Sprint ?
```

**sprint-dependencies.md** (pour chaque sprint) :
```markdown
# D√©pendances - Sprint XXX : [But du Sprint]

## D√©pendances internes au sprint

| US Bloquante | US Bloqu√©e | Type | Ordre |
|--------------|------------|------|-------|
| US-XXX | US-XXX | Finish-to-Start | 1‚Üí2 |
| US-XXX | US-XXX, US-XXX | Finish-to-Start | 2‚Üí3,4 |

## D√©pendances avec sprints pr√©c√©dents

| US Pr√©requise (Sprint pr√©c√©dent) | US D√©pendante (ce sprint) | Statut pr√©requis |
|----------------------------------|---------------------------|------------------|
| US-XXX | US-XXX | ‚úÖ Done |
| US-XXX | US-XXX | ‚úÖ Done |

## D√©pendances vers sprints suivants

| US (ce sprint) | US D√©pendante (Sprint suivant) | Impact si non livr√©e |
|----------------|-------------------------------|---------------------|
| US-XXX | US-XXX | Bloque EPIC-XXX |

## US parall√©lisables
Ces US n'ont pas de d√©pendances entre elles et peuvent √™tre d√©velopp√©es en parall√®le :
- Groupe A : US-XXX, US-XXX
- Groupe B : US-XXX, US-XXX

## Chemin critique du sprint
```
US-XXX ‚Üí US-XXX ‚Üí US-XXX (3 jours estim√©s)
```
‚ö†Ô∏è Ces US sont sur le chemin critique - prioriser leur revue de code.
```

### √âTAPE 8 : R√©capitulatif
Cr√©e un fichier `README.md` √† la racine de `project-management/` :

```markdown
# Gestion de Projet - [NOM DU PROJET]

## Vue d'ensemble
[Description du projet]

## Personas

### Personas primaires
| ID | Nom | R√¥le | User Stories |
|----|-----|------|--------------|
| P-001 | [Pr√©nom] | [R√¥le] | US-XXX, US-XXX, ... |

### Personas secondaires
| ID | Nom | R√¥le | User Stories |
|----|-----|------|--------------|
| P-002 | [Pr√©nom] | [R√¥le] | US-XXX, US-XXX, ... |

üëâ D√©tails complets : [personas.md](./personas.md)

## Stack technique
R√©f√©rence : `./docs/ARCHITECTURE_TECHNIQUE_JOINA.md`

- üåê **Web** : Application responsive (Symfony UX + Turbo)
- üì± **Mobile** : Application Flutter (iOS + Android)
- ‚öôÔ∏è **API** : Backend REST/GraphQL avec API Platform + Serveur MCP (symfony/mcp-bundle)
- üóÑÔ∏è **Base de donn√©es** : PostgreSQL

### D√©tails techniques
| Composant | Technologie | Documentation |
|-----------|-------------|---------------|
| Frontend Web | Symfony UX, Turbo, Stimulus | symfony.com/ux |
| Frontend Mobile | Flutter | flutter.dev |
| Backend API | API Platform 4.x | api-platform.com |
| Serveur MCP | symfony/mcp-bundle | symfony.com/doc/current/ai/bundles/mcp-bundle.html |
| Base de donn√©es | PostgreSQL 16+ | postgresql.org |
| Cache | Redis | redis.io |
| Conteneurisation | Docker | docker.com |

## Structure du backlog

### Epics
| ID | Nom | Personas | User Stories | Statut |
|----|-----|----------|--------------|--------|
| EPIC-001 | [Nom] | P-001, P-002 | X | √Ä faire |

### M√©triques
- Total User Stories : [X]
- Total Story Points : [X]
- Sprints planifi√©s : [X]

## Couverture des personas

### Matrice Personas / Epics
| Epic | P-001 | P-002 | P-003 |
|------|-------|-------|-------|
| EPIC-001 | ‚≠ê‚≠ê‚≠ê | ‚≠ê | - |
| EPIC-002 | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê |

## Roadmap

### sprint-001-walking_skeleton
- **Objectif** : Infrastructure Docker + API Platform + 1 endpoint CRUD + UI Symfony + √©cran Flutter
- **Personas impact√©s** : [P-XXX]
- **Points** : [X]
- **Dates** : [D√©but] ‚Üí [Fin]

### sprint-002-[but_du_sprint]
- **Objectif** : [...]
- **Personas impact√©s** : [P-XXX, P-XXX]
- **Points** : [X]
- **Dates** : [D√©but] ‚Üí [Fin]

### sprint-003-[but_du_sprint]
- **Objectif** : [...]
- **Personas impact√©s** : [P-XXX]
- **Points** : [X]
- **Dates** : [D√©but] ‚Üí [Fin]

## √âquipe et r√¥les
- Product Owner : [TBD]
- Scrum Master : [TBD]
- √âquipe de d√©veloppement : [TBD]

## Liens utiles
- [Personas](./personas.md)
- [Definition of Done](./definition-of-done.md)
- [Matrice des d√©pendances](./dependencies-matrix.md)
- [Backlog](./backlog/)
- [Sprints](./sprints/)
- [Architecture technique](../docs/ARCHITECTURE_TECHNIQUE_JOINA.md)
```

## R√àGLES SCRUM √Ä RESPECTER

1. **Sprint** : Dur√©e fixe de 2 semaines
2. **V√©locit√©** : Estimer entre 20-40 story points par sprint (ajuster selon l'√©quipe)
3. **User Stories** : Doivent √™tre INVEST (Independent, Negotiable, Valuable, Estimable, Small, Testable)
4. **Estimation** : Utiliser la suite de Fibonacci (1, 2, 3, 5, 8, 13, 21)
5. **Priorisation** : Valeur m√©tier vs Effort (m√©thode MoSCoW)
6. **Incr√©ments** : Chaque sprint doit livrer un incr√©ment potentiellement livrable

## R√àGLES DE D√âVELOPPEMENT INCR√âMENTAL (OBLIGATOIRE)

### Principe fondamental
Chaque User Story doit livrer une valeur TESTABLE et D√âMONTRABLE au PO, m√™me minimale.

### R√®gles de d√©coupage incr√©mental

1. **Taille maximale des US** :
   - Maximum 8 story points par US
   - Si > 8 points, d√©couper en sous-US
   - Pr√©f√©rer plusieurs petites US (2-3 points) √† une grosse

2. **Vertical Slicing** (d√©coupage vertical) :
   - Chaque US traverse TOUTES les couches : Symfony UX/Turbo + Flutter ‚Üí API Platform ‚Üí PostgreSQL
   - PAS de US "Backend only" ou "Frontend only" sauf exception technique justifi√©e
   - PAS de US "Web only" ou "Mobile only" : chaque US doit couvrir Symfony ET Flutter
   - Chaque US doit √™tre testable de bout en bout sur Web (Symfony) ET Mobile (Flutter)
   - Exception : US techniques d'infrastructure (Docker, CI/CD, config) peuvent √™tre hors UI
   - L'API Platform est le point central : Web et Mobile consomment la m√™me API

3. **Walking Skeleton d'abord** :
   - Sprint 1 : Infrastructure + 1 parcours complet minimal
   - Livrer un squelette fonctionnel avant d'enrichir
   - **Walking Skeleton** = Logiciel prenant en charge le plus petit nombre de t√¢ches n√©cessaires parmi l'ensemble des fonctionnalit√©s
   - PAS juste du setup technique, mais une fonctionnalit√© TESTABLE de bout en bout

4. **Story Mapping** :
   - **Backbone** (√âpine dorsale) = Liste des activit√©s essentielles du syst√®me (= Epics)
   - **Walking Skeleton** = Premi√®re ligne horizontale de la carte (US minimales)
   - Ordonner verticalement du plus n√©cessaire au moins n√©cessaire
   - Entourer les groupes d'US pour former les Releases

4. **Strat√©gie d'incr√©ments** :
   ```
   Incr√©ment 1 : Version minimale (happy path uniquement)
   Incr√©ment 2 : Gestion des erreurs basique
   Incr√©ment 3 : Cas alternatifs
   Incr√©ment 4 : Optimisations et edge cases
   ```

5. **R√®gle des 3 US maximum par fonctionnalit√©** :
   - US 1 : Cr√©er (Create)
   - US 2 : Lire/Afficher (Read)
   - US 3 : Modifier/Supprimer (Update/Delete)

### Exemples de d√©coupage incr√©mental

```
‚ùå MAUVAIS : US-001 "Gestion compl√®te des utilisateurs" (21 points)

‚úÖ BON : D√©coupage incr√©mental
US-001 : Cr√©er un compte avec email/password (3 points)
    ‚îî‚îÄ‚îÄ‚ñ∫ US-002 : Se connecter avec email/password (2 points)
            ‚îî‚îÄ‚îÄ‚ñ∫ US-003 : R√©initialiser son mot de passe (3 points)
            ‚îî‚îÄ‚îÄ‚ñ∫ US-004 : Modifier son profil (2 points)
            ‚îî‚îÄ‚îÄ‚ñ∫ US-005 : Se d√©connecter (1 point)
                    ‚îî‚îÄ‚îÄ‚ñ∫ US-006 : Supprimer son compte (2 points)
```

### Checklist de validation incr√©mentale
Avant de valider une US, v√©rifier :
- [ ] La US est testable isol√©ment ?
- [ ] Le PO peut faire une d√©mo de cette US seule ?
- [ ] L'utilisateur final peut utiliser cette fonctionnalit√© (m√™me limit√©e) ?
- [ ] Le code est d√©ployable en production (feature flag si n√©cessaire) ?

## GESTION DES D√âPENDANCES (OBLIGATOIRE)

### √âtape 4bis : Cr√©ation de la matrice de d√©pendances globale

Cr√©e un fichier `dependencies-matrix.md` dans `project-management/` :

```markdown
# Matrice des d√©pendances - [NOM DU PROJET]

## Vue d'ensemble des d√©pendances entre Epics

### Graphe de d√©pendances
```mermaid
graph TD
    EPIC-001[EPIC-001: Infrastructure] --> EPIC-002[EPIC-002: Authentification]
    EPIC-001 --> EPIC-003[EPIC-003: Base de donn√©es]
    EPIC-002 --> EPIC-004[EPIC-004: Gestion utilisateurs]
    EPIC-003 --> EPIC-004
    EPIC-004 --> EPIC-005[EPIC-005: Fonctionnalit√© m√©tier A]
    EPIC-004 --> EPIC-006[EPIC-006: Fonctionnalit√© m√©tier B]
```

### Tableau des d√©pendances entre Epics
| Epic | D√©pend de | Bloque | Niveau critique |
|------|-----------|--------|-----------------|
| EPIC-001 | - | EPIC-002, EPIC-003 | üî¥ Critique |
| EPIC-002 | EPIC-001 | EPIC-004 | üî¥ Critique |
| EPIC-003 | EPIC-001 | EPIC-004 | üü° Important |

### Chemin critique
```
EPIC-001 ‚Üí EPIC-002 ‚Üí EPIC-004 ‚Üí EPIC-005
```
‚ö†Ô∏è Tout retard sur ce chemin impacte la date de livraison finale.

## Vue d√©taill√©e des d√©pendances entre User Stories

### EPIC-001 : [Nom]
```mermaid
graph LR
    US-001 --> US-002
    US-001 --> US-003
    US-002 --> US-004
    US-003 --> US-004
```

| US Source | US Cible | Type | Raison |
|-----------|----------|------|--------|
| US-001 | US-002 | Finish-to-Start | US-002 utilise l'API cr√©√©e par US-001 |
| US-001 | US-003 | Finish-to-Start | US-003 n√©cessite le mod√®le de donn√©es |

### EPIC-002 : [Nom]
[M√™me format...]

## D√©pendances inter-Epics (US ‚Üí US)

| US Source (Epic) | US Cible (Epic) | Raison |
|------------------|-----------------|--------|
| US-010 (EPIC-001) | US-020 (EPIC-002) | L'authentification utilise l'infra |
| US-025 (EPIC-002) | US-040 (EPIC-004) | Les r√¥les sont n√©cessaires pour les permissions |

## Risques li√©s aux d√©pendances

| Risque | Impact | Probabilit√© | Mitigation |
|--------|--------|-------------|------------|
| Retard US-001 | Bloque 5 US | Moyen | Prioriser en d√©but de sprint |
| API externe indisponible | Bloque EPIC-003 | Faible | Pr√©voir mock/stub |
```

### R√®gles de gestion des d√©pendances

1. **D√©pendances circulaires interdites** :
   - Si A d√©pend de B et B d√©pend de A ‚Üí Refactorer les US
   
2. **Profondeur maximale** :
   - Maximum 4 niveaux de d√©pendances (A‚ÜíB‚ÜíC‚ÜíD‚ÜíE interdit)
   - Si plus profond, regrouper ou parall√©liser

3. **D√©pendances dans le m√™me sprint** :
   - Si US-A bloque US-B, les deux doivent √™tre dans le m√™me sprint
   - Sinon, US-B passe au sprint suivant

4. **Identifier les US "fondation"** :
   - US sans d√©pendance entrante = √† faire en premier
   - Les marquer avec le tag `[FOUNDATION]`

5. **Visualisation obligatoire** :
   - Chaque sprint doit avoir son graphe de d√©pendances
   - Format Mermaid pour int√©gration Git

## CONSIGNES D'EX√âCUTION

1. Commence par lire int√©gralement les deux documents
2. **Identifie tous les personas** (utilisateurs, administrateurs, acteurs externes)
3. **Cr√©e le fichier personas.md** avec minimum 3 personas d√©taill√©s
4. D√©coupe en epics logiques (grands blocs fonctionnels)
5. **Associe chaque epic aux personas concern√©s**
6. **√âtablis les d√©pendances entre Epics** (qui doit √™tre fait avant quoi)
7. D√©compose chaque epic en user stories atomiques (max 8 points)
8. **Chaque US doit r√©f√©rencer un persona sp√©cifique (P-XXX)**
9. **Applique le vertical slicing** : chaque US doit traverser toutes les couches
10. **√âtablis les d√©pendances entre US** avec le graphe et le tableau
11. Estime chaque user story en story points
12. **Identifie les US "fondation"** (sans d√©pendances entrantes)
13. **Cr√©e la matrice de d√©pendances globale** (dependencies-matrix.md)
14. Cr√©e au minimum 3 sprints avec une charge √©quilibr√©e
15. **Sprint 1 = Walking Skeleton** : infrastructure + 1 parcours complet minimal
16. V√©rifie qu'aucune d√©pendance circulaire n'existe
17. V√©rifie que les US bloquantes sont planifi√©es AVANT les US bloqu√©es
18. **V√©rifie que tous les personas ont au moins une US dans les premiers sprints**

## CONSIGNES CRIT√àRES D'ACCEPTANCE (OBLIGATOIRE)

### R√®gles pour les crit√®res d'acceptance

1. **Exhaustivit√©** : Chaque US doit avoir AU MINIMUM :
   - 1 sc√©nario nominal (happy path)
   - 2 sc√©narios alternatifs
   - 2 sc√©narios d'erreur
   
2. **Mod√®le SMART** : Chaque crit√®re doit √™tre :
   - **S**p√©cifique : Explicitement d√©fini, pas vague
   - **M**esurable : Observable et quantifiable (valeurs concr√®tes)
   - **A**tteignable : R√©alisable techniquement
   - **R**√©aliste : En rapport direct avec la Story
   - **T**emporel : Moment d'observation d√©fini

3. **Format Gherkin strict** :
   - GIVEN : √âtat initial pr√©cis du syst√®me
   - WHEN : Acteur identifi√© + Action sp√©cifique unique
   - THEN : R√©sultat observable et v√©rifiable
   - AND : Pour conditions/actions/r√©sultats multiples

4. **Chaque crit√®re DOIT contenir** :
   - Un acteur identifi√© (Persona P-XXX ou r√¥le syst√®me)
   - Un verbe d'action concret
   - Un r√©sultat OBSERVABLE (pas abstrait)
   - Des valeurs mesurables si applicable

5. **Couverture** : Les crit√®res doivent couvrir :
   - Le parcours utilisateur complet
   - Les cas limites (edge cases)
   - Les validations de donn√©es (avec messages d'erreur exacts)
   - Les comportements UI Web ET Mobile
   - Les contraintes de performance (temps < Xms)
   - Les r√®gles de s√©curit√©

### Exemples de bons crit√®res d'acceptance

```gherkin
# EXEMPLE CONCRET - Inscription utilisateur

Scenario: Inscription r√©ussie avec email valide
GIVEN un visiteur non authentifi√© sur la page d'inscription
  AND aucun compte n'existe avec l'email "test@example.com"
WHEN il remplit le formulaire avec :
  | champ     | valeur            |
  | email     | test@example.com  |
  | password  | SecurePass123!    |
  | confirm   | SecurePass123!    |
  AND il clique sur "Cr√©er mon compte"
THEN un compte utilisateur est cr√©√© en base de donn√©es
  AND un email de confirmation est envoy√© √† "test@example.com"
  AND l'utilisateur est redirig√© vers "/confirmation-envoyee"
  AND un message "V√©rifiez votre bo√Æte mail" s'affiche

Scenario: √âchec inscription - email d√©j√† utilis√©
GIVEN un visiteur non authentifi√© sur la page d'inscription
  AND un compte existe d√©j√† avec l'email "existing@example.com"
WHEN il remplit le formulaire avec l'email "existing@example.com"
  AND il clique sur "Cr√©er mon compte"
THEN aucun nouveau compte n'est cr√©√©
  AND le message d'erreur "Cette adresse email est d√©j√† utilis√©e" s'affiche
  AND le champ email est mis en surbrillance rouge
  AND le formulaire conserve les autres valeurs saisies

Scenario: √âchec inscription - mot de passe trop faible
GIVEN un visiteur sur la page d'inscription
WHEN il saisit le mot de passe "123456"
THEN l'indicateur de force affiche "Faible" en rouge
  AND le message "Le mot de passe doit contenir au moins 8 caract√®res, une majuscule, un chiffre et un caract√®re sp√©cial" s'affiche
  AND le bouton "Cr√©er mon compte" reste d√©sactiv√©
```

## FORMAT DE SORTIE ATTENDU

- Fichiers Markdown bien format√©s
- Num√©rotation coh√©rente (EPIC-001, US-001, P-001, etc.)
- Liens entre fichiers fonctionnels
- Pas de placeholder non rempli
- Contenu sp√©cifique au projet analys√© (pas de g√©n√©rique)

### Checklist SCRUM officielle

#### User Stories
- [ ] Toutes les US respectent **INVEST** (Independent, Negotiable, Valuable, Estimable, Sized, Testable)
- [ ] Toutes les US ont les **3 C** (Carte, Conversation, Confirmation)
- [ ] Format "En tant que [Persona P-XXX]... Je veux... Afin de..."
- [ ] Chaque US r√©f√©rence un Persona identifi√© (pas de r√¥le g√©n√©rique)
- [ ] Aucune US > 8 points dans les sprints planifi√©s
- [ ] Aucune US > 13 points dans le backlog

#### Crit√®res d'Acceptance
- [ ] Tous les crit√®res respectent **SMART** (Sp√©cifique, Mesurable, Atteignable, R√©aliste, Temporel)
- [ ] Format Gherkin : GIVEN/WHEN/THEN avec acteur identifi√©
- [ ] Minimum : 1 nominal + 2 alternatifs + 2 erreurs par US
- [ ] Chaque crit√®re a un r√©sultat OBSERVABLE et MESURABLE

#### Epics
- [ ] Chaque Epic a un **MMF** (Minimum Marketable Feature) identifi√©
- [ ] Les Epics forment une **Backbone** coh√©rente
- [ ] D√©pendances entre Epics document√©es avec graphe Mermaid

#### Sprints
- [ ] Sprint 1 = **Walking Skeleton** (fonctionnalit√© compl√®te testable)
- [ ] Chaque Sprint a un **Sprint Goal** clair (phrase unique)
- [ ] Dur√©e fixe (2 semaines)
- [ ] V√©locit√© coh√©rente entre sprints
- [ ] C√©r√©monies planifi√©es (Planning, Daily, Review, R√©tro, Affinage)
- [ ] Directive Fondamentale de la R√©trospective incluse

#### Definition of Done
- [ ] DoD existe et couvre : Code + Tests + Documentation + D√©ploiement
- [ ] DoD progressive (simple ‚Üí am√©lior√© ‚Üí complet)
- [ ] DoD identique pour toutes les US

#### Personas
- [ ] Minimum 3 personas (1 primaire, 2+ secondaires)
- [ ] Chaque persona a : nom, objectifs, frustrations, sc√©narios, niveau technique
- [ ] Matrice Personas/Fonctionnalit√©s remplie
- [ ] Anti-personas d√©finis

### √âl√©ments obligatoires
- **Fichier personas.md complet** avec minimum 3 personas d√©taill√©s
- **Chaque US r√©f√©rence un persona sp√©cifique (P-XXX)**
- **Matrice Personas/Fonctionnalit√©s compl√®te**
- **Graphes Mermaid pour toutes les d√©pendances**
- **Chaque US a ses d√©pendances explicitement list√©es**
- **Matrice de d√©pendances globale compl√®te**
- **Ordre d'ex√©cution d√©fini pour chaque sprint**
- **US de maximum 8 story points**
- **Vertical slicing appliqu√© : Symfony UX/Turbo + Flutter ‚Üí API Platform ‚Üí PostgreSQL**
- **Chaque US testable sur Web (Symfony) ET Mobile (Flutter)**
- **Sprints nomm√©s : sprint-XXX-but_du_sprint** (ex: sprint-001-walking_skeleton)
- **R√©f√©rence √† ARCHITECTURE_TECHNIQUE_JOINA.md dans les notes techniques**
- **MMF identifi√© pour chaque Epic**
- **Sprint Goal formul√© en une phrase pour chaque Sprint**

### Exemples de nommage de sprints
```
sprint-001-walking_skeleton/
sprint-002-authentification_jwt/
sprint-003-gestion_profil_utilisateur/
sprint-004-[fonctionnalite_metier]/
sprint-005-notifications_temps_reel/
```

### Checklist technique par US
Chaque US doit mentionner :
- [ ] Persona concern√© (P-XXX)
- [ ] Validation INVEST compl√®te
- [ ] Entit√© Doctrine concern√©e
- [ ] Ressource API Platform
- [ ] Template Twig / Composants Symfony UX
- [ ] Widget Flutter correspondant
- [ ] Migrations DB si n√©cessaire

### Checklist personas
- [ ] Minimum 3 personas cr√©√©s (1 primaire, 2+ secondaires)
- [ ] Chaque persona a ses objectifs, frustrations, et sc√©narios
- [ ] Anti-personas d√©finis
- [ ] Matrice Personas/Fonctionnalit√©s remplie
- [ ] Toutes les US r√©f√©rencent un persona

---
Ex√©cute maintenant cette mission en analysant les documents fournis.
